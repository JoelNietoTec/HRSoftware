var cargos = new Array();
<% for cargo in @cargos do %>
  cargos.push(new Array(<%= cargo.departamento_id %>, '<%=h cargos.nombre %>', <%= cargo.id %>));
<% end %>

function cargoSelected() {
  departamento_id = $('empleado_departamento_id').getValue();
  options = $('empleado_cargo_id').options;
  options.length = 1;
  cargos(function(cargo) {
    if (cargo[0] == departamento_id) {
      options[options.length] = new Option(cargo[1], cargo[2]);
    }
  });
  if (options.length == 1) {
    $('cargo_field').hide();
  } else {
    $('cargo_field').show();
  }
}

document.observe('dom:loaded', function() {
  cargoSelected();
  $('departamento_id').observe('change', cargoSelected);
});
